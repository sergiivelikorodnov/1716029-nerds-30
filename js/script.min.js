let popup = document.querySelector(".popup"), openPopupButton = document.querySelector(".button-contact"), closePopupButton = document.querySelector(".popup-close"), formContact = popup.querySelector(".contact-form"), formOutput = popup.querySelector(".form-output"), formName = popup.querySelector(".form-name"), formEmail = popup.querySelector(".form-email"), formMessage = popup.querySelector(".form-message .form-message-field"); openPopupButton.addEventListener("click", function (e) { e.preventDefault(), popup.classList.remove("hide-popup"), popup.classList.add("show-popup"), formName.focus() }), closePopupButton.addEventListener("click", function (e) { e.preventDefault(), popup.classList.remove("show-popup"), popup.classList.add("hide-popup") }), document.addEventListener("keydown", function (e) { 27 === e.keyCode && popup.classList.contains("show-popup") && (popup.classList.remove("show-popup"), popup.classList.add("hide-popup")) }), formContact.addEventListener("submit", function (e) { formName.value && formEmail.value && formMessage.value ? (e.preventDefault(), popup.classList.remove("show-popup"), popup.classList.add("hide-popup"), formName.value = "", formEmail.value = "", formMessage.value = "", formName.classList.remove("invalid-value"), formEmail.classList.remove("invalid-value"), formMessage.classList.remove("invalid-value")) : (formName.classList.remove("invalid-value"), formEmail.classList.remove("invalid-value"), formMessage.classList.remove("invalid-value"), e.preventDefault(), "" == formName.value && formName.classList.add("invalid-value"), "" == formEmail.value && formEmail.classList.add("invalid-value"), "" == formMessage.value && formMessage.classList.add("invalid-value")) });
